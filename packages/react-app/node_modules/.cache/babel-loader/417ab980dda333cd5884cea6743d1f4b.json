{"ast":null,"code":"import _regeneratorRuntime from\"D:/dsdc-dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/dsdc-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/dsdc-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{ethers}from\"ethers\";import{addresses,abis}from\"@uniswap-v2-app/contracts\";import{useEthers}from\"@usedapp/core\";import useGetStakedNFTs from\"./useGetStakedNFTs\";var useGetTotalRewards=function useGetTotalRewards(plan){var _useState=useState(),_useState2=_slicedToArray(_useState,2),totalRewards=_useState2[0],setTotalRewards=_useState2[1];var _useEthers=useEthers(),account=_useEthers.account;var stakedNftsValue=useGetStakedNFTs(plan);useEffect(function(){var getTotalRewards=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var provider,contract,totalRewardsValue;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;provider=new ethers.providers.JsonRpcProvider(\"https://data-seed-prebsc-1-s3.binance.org:8545\");contract=new ethers.Contract(addresses.staking,abis.staking,provider);_context.next=5;return contract.getEarnedRewards(plan,account);case 5:totalRewardsValue=_context.sent;setTotalRewards(totalRewardsValue);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function getTotalRewards(){return _ref.apply(this,arguments);};}();getTotalRewards();},[account,plan,totalRewards,stakedNftsValue]);return totalRewards;};export default useGetTotalRewards;","map":{"version":3,"names":["useState","useEffect","ethers","addresses","abis","useEthers","useGetStakedNFTs","useGetTotalRewards","plan","_useState","_useState2","_slicedToArray","totalRewards","setTotalRewards","_useEthers","account","stakedNftsValue","getTotalRewards","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","provider","contract","totalRewardsValue","wrap","_callee$","_context","prev","next","providers","JsonRpcProvider","Contract","staking","getEarnedRewards","sent","t0","console","error","stop","apply","arguments"],"sources":["D:/dsdc-dashboard/packages/react-app/src/hooks/useGetTotalRewards.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { ethers } from \"ethers\";\r\nimport { addresses, abis } from \"@uniswap-v2-app/contracts\";\r\nimport { useEthers } from \"@usedapp/core\";\r\nimport useGetStakedNFTs from \"./useGetStakedNFTs\";\r\n\r\nconst useGetTotalRewards = (plan) => {\r\n  const [totalRewards, setTotalRewards] = useState();\r\n  const { account } = useEthers();\r\n  const stakedNftsValue = useGetStakedNFTs(plan);\r\n  useEffect(() => {\r\n    const getTotalRewards = async () => {\r\n      try {\r\n        const provider = new ethers.providers.JsonRpcProvider(\r\n          \"https://data-seed-prebsc-1-s3.binance.org:8545\"\r\n        );\r\n        const contract = new ethers.Contract(\r\n          addresses.staking,\r\n          abis.staking,\r\n          provider\r\n        );\r\n        const totalRewardsValue = await contract.getEarnedRewards(\r\n          plan,\r\n          account\r\n        );\r\n        setTotalRewards(totalRewardsValue);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n\r\n    getTotalRewards();\r\n  }, [account, plan, totalRewards, stakedNftsValue]);\r\n\r\n  return totalRewards;\r\n};\r\n\r\nexport default useGetTotalRewards;\r\n"],"mappings":"qUAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,MAAM,KAAQ,QAAQ,CAC/B,OAASC,SAAS,CAAEC,IAAI,KAAQ,2BAA2B,CAC3D,OAASC,SAAS,KAAQ,eAAe,CACzC,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAEjD,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,IAAI,CAAK,CACnC,IAAAC,SAAA,CAAwCT,QAAQ,EAAE,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,YAAY,CAAAF,UAAA,IAAEG,eAAe,CAAAH,UAAA,IACpC,IAAAI,UAAA,CAAoBT,SAAS,EAAE,CAAvBU,OAAO,CAAAD,UAAA,CAAPC,OAAO,CACf,GAAM,CAAAC,eAAe,CAAGV,gBAAgB,CAACE,IAAI,CAAC,CAC9CP,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgB,eAAe,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,CAAAC,QAAA,CAAAC,iBAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEdN,QAAQ,CAAG,GAAI,CAAArB,MAAM,CAAC6B,SAAS,CAACC,eAAe,CACnD,gDAAgD,CACjD,CACKR,QAAQ,CAAG,GAAI,CAAAtB,MAAM,CAAC+B,QAAQ,CAClC9B,SAAS,CAAC+B,OAAO,CACjB9B,IAAI,CAAC8B,OAAO,CACZX,QAAQ,CACT,CAAAK,QAAA,CAAAE,IAAA,SAC+B,CAAAN,QAAQ,CAACW,gBAAgB,CACvD3B,IAAI,CACJO,OAAO,CACR,QAHKU,iBAAiB,CAAAG,QAAA,CAAAQ,IAAA,CAIvBvB,eAAe,CAACY,iBAAiB,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAS,EAAA,CAAAT,QAAA,aAEnCU,OAAO,CAACC,KAAK,CAAAX,QAAA,CAAAS,EAAA,CAAO,CAAC,yBAAAT,QAAA,CAAAY,IAAA,MAAAlB,OAAA,gBAExB,kBAlBK,CAAAL,eAAeA,CAAA,SAAAC,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAkBpB,CAEDzB,eAAe,EAAE,CACnB,CAAC,CAAE,CAACF,OAAO,CAAEP,IAAI,CAAEI,YAAY,CAAEI,eAAe,CAAC,CAAC,CAElD,MAAO,CAAAJ,YAAY,CACrB,CAAC,CAED,cAAe,CAAAL,kBAAkB"},"metadata":{},"sourceType":"module"}