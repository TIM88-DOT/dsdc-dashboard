{"ast":null,"code":"import _regeneratorRuntime from\"D:/dsdc-dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/dsdc-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import classes from\"./TotalRewards.module.scss\";import{ButtonPrimary}from\"../index\";import Typography from\"@mui/material/Typography\";import{useEthers}from\"@usedapp/core\";import{addresses,abis}from\"@uniswap-v2-app/contracts\";import{ethers}from\"ethers\";import useGetTotalRewards from\"../../hooks/useGetTotalRewards\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function TotalRewards(props){var _useEthers=useEthers(),account=_useEthers.account,library=_useEthers.library;//const [loading, setLoading] = useState(false);\nvar plan=props.plan;var totalRewardsValue=useGetTotalRewards(plan);console.log(\"totalRewards\",totalRewardsValue);var onClaim=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var signer,mutantsStakingContract;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!account){_context.next=12;break;}signer=library.getSigner();mutantsStakingContract=new ethers.Contract(addresses.staking,abis.staking,signer);if(!(Number(totalRewardsValue[0])>0)){_context.next=12;break;}_context.prev=4;_context.next=7;return mutantsStakingContract.claimEarnedReward(plan);case 7:_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](4);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[4,9]]);}));return function onClaim(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:classes[\"prize-container\"],children:[/*#__PURE__*/_jsx(\"h2\",{style:{padding:\"0.7rem\"},children:\"YOUR REWARDS\"}),account?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{sx:{textAlign:\"center\",fontSize:\"16px\"},variant:\"h6\",component:\"h6\",children:\"TOTAL :\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h6\",sx:{color:\"#7b9c13\"},children:totalRewardsValue&&ethers.utils.formatEther(totalRewardsValue[0])}),/*#__PURE__*/_jsx(Typography,{sx:{textAlign:\"center\",fontSize:\"16px\"},variant:\"h6\",component:\"h6\",children:\"CLAIMABLE :\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"h6\",sx:{color:\"#7b9c13\"},children:totalRewardsValue&&ethers.utils.formatEther(totalRewardsValue[1])})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Nothing to show\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(ButtonPrimary,{onClick:onClaim,children:\"CLAIM\"})})]});}","map":{"version":3,"names":["classes","ButtonPrimary","Typography","useEthers","addresses","abis","ethers","useGetTotalRewards","jsx","_jsx","jsxs","_jsxs","TotalRewards","props","_useEthers","account","library","plan","totalRewardsValue","console","log","onClaim","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","signer","mutantsStakingContract","wrap","_callee$","_context","prev","next","getSigner","Contract","staking","Number","claimEarnedReward","t0","stop","apply","arguments","className","children","style","padding","sx","textAlign","fontSize","variant","component","color","utils","formatEther","actions","onClick"],"sources":["D:/dsdc-dashboard/packages/react-app/src/components/TotalRewards/TotalRewards.jsx"],"sourcesContent":["import classes from \"./TotalRewards.module.scss\";\r\nimport { ButtonPrimary } from \"../index\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { useEthers } from \"@usedapp/core\";\r\nimport { addresses, abis } from \"@uniswap-v2-app/contracts\";\r\nimport { ethers } from \"ethers\";\r\nimport useGetTotalRewards from \"../../hooks/useGetTotalRewards\";\r\n\r\nexport default function TotalRewards(props) {\r\n  const { account, library } = useEthers();\r\n  //const [loading, setLoading] = useState(false);\r\n  const plan = props.plan;\r\n  const totalRewardsValue = useGetTotalRewards(plan);\r\n  console.log(\"totalRewards\", totalRewardsValue);\r\n\r\n  const onClaim = async () => {\r\n    if (account) {\r\n      const signer = library.getSigner();\r\n      const mutantsStakingContract = new ethers.Contract(\r\n        addresses.staking,\r\n        abis.staking,\r\n        signer\r\n      );\r\n      if (Number(totalRewardsValue[0]) > 0) {\r\n        try {\r\n          await mutantsStakingContract.claimEarnedReward(plan);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className={classes[\"prize-container\"]}>\r\n      <h2 style={{ padding: \"0.7rem\" }}>YOUR REWARDS</h2>\r\n      {account ? (\r\n        <div>\r\n          <Typography\r\n            sx={{ textAlign: \"center\", fontSize: \"16px\" }}\r\n            variant=\"h6\"\r\n            component=\"h6\"\r\n          >\r\n            TOTAL :\r\n          </Typography>\r\n\r\n          <Typography variant=\"h6\" component=\"h6\" sx={{ color: \"#7b9c13\" }}>\r\n            {totalRewardsValue &&\r\n              ethers.utils.formatEther(totalRewardsValue[0])}\r\n          </Typography>\r\n\r\n          <Typography\r\n            sx={{ textAlign: \"center\", fontSize: \"16px\" }}\r\n            variant=\"h6\"\r\n            component=\"h6\"\r\n          >\r\n            CLAIMABLE :\r\n          </Typography>\r\n\r\n          <Typography variant=\"h6\" component=\"h6\" sx={{ color: \"#7b9c13\" }}>\r\n            {totalRewardsValue &&\r\n              ethers.utils.formatEther(totalRewardsValue[1])}\r\n          </Typography>\r\n        </div>\r\n      ) : (\r\n        <p>Nothing to show</p>\r\n      )}\r\n\r\n      <div className={classes.actions}>\r\n        <ButtonPrimary onClick={onClaim}>CLAIM</ButtonPrimary>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}