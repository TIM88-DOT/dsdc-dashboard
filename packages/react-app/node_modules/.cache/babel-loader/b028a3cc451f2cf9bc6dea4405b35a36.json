{"ast":null,"code":"var _jsxFileName = \"D:\\\\dsdc-dashboard\\\\packages\\\\react-app\\\\src\\\\components\\\\WalletButton.js\",\n  _s = $RefreshSig$();\nimport { Button } from \"../components\";\nimport { Mumbai, shortenAddress, useEthers, useLookupAddress } from \"@usedapp/core\";\nimport React, { useEffect, useState } from \"react\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WalletButton() {\n  _s();\n  const [rendered, setRendered] = useState(\"\");\n  const {\n    ens\n  } = useLookupAddress();\n  const {\n    account,\n    activate,\n    deactivate,\n    switchNetwork,\n    error,\n    chainId\n  } = useEthers();\n  const activateProvider = async () => {\n    const providerOptions = {\n      injected: {\n        display: {\n          name: \"Metamask\",\n          description: \"Connect with the provider in your Browser\"\n        },\n        package: null\n      },\n      walletconnect: {\n        package: WalletConnectProvider,\n        options: {\n          chainId: 8001,\n          rpc: {\n            8001: \"https://matic-mumbai.chainstacklabs.com\"\n          }\n        }\n      }\n    };\n    const web3Modal = new Web3Modal({\n      providerOptions\n    });\n    try {\n      const provider = await web3Modal.connect();\n      await activate(provider);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  useEffect(() => {\n    if (ens) {\n      setRendered(ens);\n    } else if (account) {\n      setRendered(shortenAddress(account));\n    } else {\n      setRendered(\"\");\n    }\n  }, [account, ens, setRendered]);\n  useEffect(() => {\n    if (error) {\n      console.error(\"Error while connecting wallet:\", error.message);\n    }\n  }, [error]);\n  useEffect(() => {\n    if (chainId !== Mumbai.chainId) {\n      switchNetwork(Mumbai.chainId);\n    }\n    if (error) {\n      console.error(\"Error while connecting wallet:\", error.message);\n    }\n  }, [chainId, error, switchNetwork]);\n  return /*#__PURE__*/_jsxDEV(Button, {\n    onClick: () => {\n      if (!account) {\n        activateProvider();\n      } else {\n        deactivate();\n      }\n    },\n    children: [rendered === \"\" && \"Connect Wallet\", rendered !== \"\" && rendered]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(WalletButton, \"DJB1r8saVRyy4AL4HeD86dSA/8o=\", false, function () {\n  return [useLookupAddress, useEthers];\n});\n_c = WalletButton;\nvar _c;\n$RefreshReg$(_c, \"WalletButton\");","map":{"version":3,"names":["Button","Mumbai","shortenAddress","useEthers","useLookupAddress","React","useEffect","useState","Web3Modal","WalletConnectProvider","jsxDEV","_jsxDEV","WalletButton","_s","rendered","setRendered","ens","account","activate","deactivate","switchNetwork","error","chainId","activateProvider","providerOptions","injected","display","name","description","package","walletconnect","options","rpc","web3Modal","provider","connect","console","message","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/dsdc-dashboard/packages/react-app/src/components/WalletButton.js"],"sourcesContent":["import { Button } from \"../components\";\r\nimport { Mumbai, shortenAddress, useEthers, useLookupAddress } from \"@usedapp/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Web3Modal from \"web3modal\";\r\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\r\n\r\nexport default function WalletButton() {\r\n  const [rendered, setRendered] = useState(\"\");\r\n\r\n  const { ens } = useLookupAddress();\r\n  const { account, activate, deactivate, switchNetwork, error, chainId } = useEthers();\r\n\r\n  const activateProvider = async () => {\r\n    const providerOptions = {\r\n      injected: {\r\n        display: {\r\n          name: \"Metamask\",\r\n          description: \"Connect with the provider in your Browser\",\r\n        },\r\n        package: null,\r\n      },\r\n      walletconnect: {\r\n        package: WalletConnectProvider,\r\n        options: {\r\n          chainId: 8001,\r\n          rpc: {\r\n            8001: \"https://matic-mumbai.chainstacklabs.com\",\r\n          },\r\n        },\r\n      },\r\n    };\r\n\r\n    const web3Modal = new Web3Modal({\r\n      providerOptions,\r\n    });\r\n    try {\r\n      const provider = await web3Modal.connect();\r\n      await activate(provider);\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (ens) {\r\n      setRendered(ens);\r\n    } else if (account) {\r\n      setRendered(shortenAddress(account));\r\n    } else {\r\n      setRendered(\"\");\r\n    }\r\n  }, [account, ens, setRendered]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      console.error(\"Error while connecting wallet:\", error.message);\r\n    }\r\n  }, [error]);\r\n\r\n  useEffect(() => {\r\n    if (chainId !== Mumbai.chainId) {\r\n      switchNetwork(Mumbai.chainId)\r\n    }\r\n    if (error) {\r\n      console.error(\"Error while connecting wallet:\", error.message);\r\n    }\r\n  }, [chainId, error, switchNetwork]);\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => {\r\n        if (!account) {\r\n          activateProvider();\r\n        } else {\r\n          deactivate();\r\n        }\r\n      }}\r\n    >\r\n      {rendered === \"\" && \"Connect Wallet\"}\r\n      {rendered !== \"\" && rendered}\r\n    </Button>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}