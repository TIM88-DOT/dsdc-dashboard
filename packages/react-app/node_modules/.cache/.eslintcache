[{"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\index.js":"1","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\App.js":"2","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\Dashboard.js":"3","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\index.js":"4","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\listItems.js":"5","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\Swap.js":"6","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\WalletButton.js":"7","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\NftStaking\\NftStaking.js":"8","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\StakedMutants\\StakedMutants.jsx":"9","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\StakedNfts\\StakedNfts.jsx":"10","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\TotalRewards\\TotalRewards.jsx":"11","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\MediaCard\\MediaCard.js":"12","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\StakedImageList\\StakedImageList.jsx":"13","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetIsApprovedForAll.jsx":"14","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetUserNFTs.jsx":"15","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetTotalRewards.jsx":"16","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\UnstakedImageList\\UnstakedImageList.jsx":"17","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetStakedNFTs.jsx":"18","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\DefaultSwap.js":"19","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\Chart\\Chart.js":"20"},{"size":731,"mtime":1680568655172,"results":"21","hashOfConfig":"22"},{"size":307,"mtime":1680488687499,"results":"23","hashOfConfig":"22"},{"size":6402,"mtime":1681840760570,"results":"24","hashOfConfig":"22"},{"size":2143,"mtime":1680488687517,"results":"25","hashOfConfig":"22"},{"size":3239,"mtime":1681839820886,"results":"26","hashOfConfig":"22"},{"size":3638,"mtime":1681837452673,"results":"27","hashOfConfig":"22"},{"size":2091,"mtime":1680568613408,"results":"28","hashOfConfig":"22"},{"size":382,"mtime":1680488687505,"results":"29","hashOfConfig":"22"},{"size":8091,"mtime":1680568773704,"results":"30","hashOfConfig":"22"},{"size":7445,"mtime":1680488687511,"results":"31","hashOfConfig":"22"},{"size":2163,"mtime":1680567563756,"results":"32","hashOfConfig":"22"},{"size":2504,"mtime":1680568015582,"results":"33","hashOfConfig":"22"},{"size":2009,"mtime":1680643007082,"results":"34","hashOfConfig":"22"},{"size":691,"mtime":1680488687518,"results":"35","hashOfConfig":"22"},{"size":974,"mtime":1680568632909,"results":"36","hashOfConfig":"22"},{"size":1138,"mtime":1680568719509,"results":"37","hashOfConfig":"22"},{"size":2000,"mtime":1680567705442,"results":"38","hashOfConfig":"22"},{"size":1785,"mtime":1680568719509,"results":"39","hashOfConfig":"22"},{"size":2034,"mtime":1681838583657,"results":"40","hashOfConfig":"22"},{"size":606,"mtime":1681841725901,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"r9xuqz",{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"44"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56","usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"44"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66","usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"44"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"44"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\index.js",[],["89","90"],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\App.js",["91"],"import React, { useEffect } from \"react\";\r\nimport { Container} from \"./components\";\r\nimport Dashboard from \"./components/Dashboard\";\r\n\r\nfunction App() {\r\n  // Read more about useDapp on https://usedapp.io/\r\n  return (\r\n    <Container>\r\n      <Dashboard />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\Dashboard.js",["92","93","94"],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\index.js",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\listItems.js",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\Swap.js",["95","96"],"import React, { useState } from 'react';\r\nimport { ThemeProvider } from 'styled-components'\r\nimport { Button, Card, CardBody, Flex, Heading, Text, Input, TokenImage, SwapVertIcon } from '@pancakeswap/uikit';\r\nimport { dark } from '@pancakeswap/uikit'\r\nimport { ButtonPrimary } from '.';\r\nimport BNB from '../assets/images/bnb.png';\r\nimport STINK from '../assets/images/logo.jpg';\r\nimport { border } from '@mui/system';\r\n\r\nconst Swap = () => {\r\n  const [fromToken, setFromToken] = useState('BNB');\r\n  const [toToken, setToToken] = useState('STINK');\r\n  const [fromTokenLogo, setFromTokenLogo] = useState(BNB);\r\n  const [toTokenLogo, setToTokenLogo] = useState(STINK);\r\n  const [fromTokenAmount, setFromTokenAmount] = useState('');\r\n  const [toTokenAmount, setToTokenAmount] = useState('');\r\n\r\n  const handleFromTokenAmountChange = (e) => {\r\n    setFromTokenAmount(e.target.value);\r\n  };\r\n\r\n  const handleToTokenAmountChange = (e) => {\r\n    setToTokenAmount(e.target.value);\r\n  };\r\n\r\n  const handleSwap = () => {\r\n    // Do the swap\r\n    console.log(`Swapping ${fromTokenAmount} ${fromToken} for ${toTokenAmount} ${toToken}`);\r\n  };\r\n\r\n  const handleSwitchTokens = () => {\r\n    // Switch the from and to tokens\r\n    const tempToken = fromToken;\r\n    const tempAmount = fromTokenAmount;\r\n    const tempLogo = fromTokenLogo;\r\n    setFromToken(toToken);\r\n    setFromTokenLogo(toTokenLogo)\r\n    setToTokenLogo(tempLogo)\r\n    setToToken(tempToken);\r\n    setFromTokenAmount(toTokenAmount);\r\n    setToTokenAmount(tempAmount);\r\n\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={dark}>\r\n      <Card style={{\r\n        marginTop: \"56px\",\r\n        marginBottom: \"100px\",\r\n        background: \"#020202\",\r\n        border: \"1px solid #bfc500\"\r\n      }}>\r\n        <CardBody style={{\r\n          background: \"#020202\",\r\n          padding: \"18px\"\r\n        }}>\r\n          <Flex justifyContent=\"space-between\" alignItems=\"center\">\r\n            <Heading>Swap</Heading>\r\n          </Flex>\r\n          <Text>Buy and sell $STINK</Text>\r\n          <Flex flexDirection=\"column\" mt=\"24px\">\r\n            <Flex justifyContent=\"space-between\">\r\n              <Text>From</Text>\r\n              <Text>{`Balance: 100.0 ${fromToken}`}</Text>\r\n            </Flex>\r\n            <Flex mb=\"16px\" alignItems=\"center\">\r\n              <Input style={{ marginBlock: \"8px\" }} type=\"number\"\r\n                placeholder=\"0.0\"\r\n                value={fromTokenAmount}\r\n                onChange={handleFromTokenAmountChange}\r\n                mt=\"8px\"\r\n                flex=\"1\" />\r\n              <Text mx=\"8px\">{fromToken}</Text>\r\n              <TokenImage src={fromTokenLogo} height={35} width={35} title={\"BNB\"} />\r\n            </Flex>\r\n            <div style={{ margin: \"auto\" }} onClick={handleSwitchTokens}>\r\n              <SwapVertIcon width=\"35px\" />\r\n            </div>\r\n            <Flex justifyContent=\"space-between\" mt=\"16px\">\r\n              <Text>To</Text>\r\n              <Text>{`Balance: 100.0 ${toToken}`}</Text>\r\n            </Flex>\r\n            <Flex mb=\"24px\" alignItems=\"center\">\r\n\r\n              <Input style={{ marginBlock: \"8px\" }} type=\"number\"\r\n                placeholder=\"0.0\"\r\n                value={toTokenAmount}\r\n                onChange={handleToTokenAmountChange}\r\n                flex=\"1\" />\r\n              <Text mx=\"8px\">{toToken}</Text>\r\n              <TokenImage src={toTokenLogo} height={35} width={35} title={\"$STINK\"} />\r\n\r\n            </Flex>\r\n            <ButtonPrimary onClick={handleSwap}>\r\n              Swap\r\n            </ButtonPrimary>\r\n          </Flex>\r\n        </CardBody>\r\n      </Card>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Swap;","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\WalletButton.js",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\NftStaking\\NftStaking.js",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\StakedMutants\\StakedMutants.jsx",["97","98","99","100","101"],"import { StakedImageList } from \"../StakedImageList/StakedImageList\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Switch from \"@mui/material/Switch\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Fade from \"@mui/material/Fade\";\r\nimport classes from \"./StakedMutants.module.scss\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { useCall, useEthers, useContractFunction } from \"@usedapp/core\";\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport axios from \"axios\";\r\nimport { addresses, abis } from \"@uniswap-v2-app/contracts\";\r\nimport { ButtonPrimary, ButtonSecondary } from \"../index\";\r\nimport { ethers } from \"ethers\";\r\nimport { useGetIsApprovedForAll } from \"../../hooks/useGetIsApprovedForAll\";\r\nimport { UnstakedImageList } from \"../UnstakedImageList/UnstakedImageList\";\r\n\r\nexport default function StakedMutants(props) {\r\n  const [tokensOfOwner, setTokensOfOwner] = useState([]);\r\n  const [unstakedTokensOfOwner, setUnstakedTokensOfOwner] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const plan = 1;\r\n  const [selectedStakeNFT, setSelectedStakeNFT] = useState([]);\r\n  const [selectedUnstakeNFT, setSelectedUnstakeNFT] = useState([]);\r\n  const { account, library } = useEthers();\r\n  const [stakeLoading, setStakeLoading] = useState(false);\r\n  const [unstakeLoading, setUnstakeLoading] = useState(false);\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n\r\n  const style = {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    width: \"90%\",\r\n    bgcolor: \"background.paper\",\r\n    border: \"2px solid #000\",\r\n    boxShadow: 24,\r\n    padding: \"15px\",\r\n  };\r\n\r\n  const mutantsContract = new Contract(addresses.mutants, abis.mutants);\r\n\r\n  const isApprovedForAll = useGetIsApprovedForAll(\r\n    addresses.mutants,\r\n    abis.mutants,\r\n    addresses.staking,\r\n    account\r\n  );\r\n\r\n  const { error: walletOfOwnerError, value: walletOfOwnerValue } =\r\n    useCall(\r\n      account && {\r\n        contract: new Contract(addresses.mutants, abis.mutants),\r\n        method: \"tokensOfOwner\",\r\n        args: [account],\r\n      }\r\n    ) ?? {};\r\n\r\n  if (walletOfOwnerError) {\r\n    console.log(walletOfOwnerError);\r\n  }\r\n\r\n  const { error: stakedNftsError, value: stakedNftsValue } =\r\n    useCall(\r\n      account && {\r\n        contract: new Contract(addresses.staking, abis.staking),\r\n        method: \"getStakedTokens\",\r\n        args: [plan, account],\r\n      }\r\n    ) ?? {};\r\n\r\n  if (stakedNftsError) {\r\n    console.log(stakedNftsError);\r\n  }\r\n\r\n  const { state: setApprovalForAllState, send: setApprovalForAll } =\r\n    useContractFunction(mutantsContract, \"setApprovalForAll\", {\r\n      transactionName: \"setApprovalForAll\",\r\n    });\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const approveMaxDsdc = async () => {\r\n    await setApprovalForAll(addresses.staking, 1);\r\n  };\r\n\r\n  async function getNftsData(userNfts) {\r\n    const tokenData = [];\r\n    for (var j = 0; j < userNfts?.length; j++) {\r\n      const mutantsMetaData = await axios.get(\r\n        `https://drunkskunksdc.mypinata.cloud/ipfs/QmadV6pf2fzgmo3NDbx5fuyxNZUcTaNiGSKbNx3FoWkgAG/${userNfts[j]}.json`\r\n      );\r\n      const nftTokenData = {\r\n        img: `https://drunkskunksdc.mypinata.cloud/ipfs/${mutantsMetaData.data.image.slice(\r\n          7\r\n        )}`,\r\n        title: mutantsMetaData.data.name,\r\n        tokenId: userNfts[j],\r\n      };\r\n      tokenData.push(nftTokenData);\r\n    }\r\n\r\n    return tokenData;\r\n  }\r\n\r\n  const onPickClick = async () => {\r\n    if (account) {\r\n      setStakeLoading(true);\r\n      if (isApprovedForAll === undefined) {\r\n        setLoading(true);\r\n      } else {\r\n        setOpen(true);\r\n        setLoading(true);\r\n        setSelectedUnstakeNFT([]);\r\n        const allNfts = walletOfOwnerValue?.[0].map((e) => Number(e));\r\n        const tokensOfOwner = await getNftsData(allNfts);\r\n        setUnstakedTokensOfOwner(tokensOfOwner);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setStakeLoading(false);\r\n  };\r\n\r\n  const onStake = async () => {\r\n    const signer = library.getSigner();\r\n    const dsdcStakingContract = new ethers.Contract(\r\n      addresses.staking,\r\n      abis.staking,\r\n      signer\r\n    );\r\n    if (selectedStakeNFT.length > 0) {\r\n      try {\r\n        console.log(\"plan\", plan);\r\n        console.log(\"selected Stake NFT\", selectedStakeNFT);\r\n        await dsdcStakingContract.stake(plan, selectedStakeNFT);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onUnstake = async () => {\r\n    const signer = library.getSigner();\r\n    const dsdcStakingContract = new ethers.Contract(\r\n      addresses.staking,\r\n      abis.staking,\r\n      signer\r\n    );\r\n    if (selectedUnstakeNFT.length > 0) {\r\n      setUnstakeLoading(true);\r\n      try {\r\n        await dsdcStakingContract.unstake(plan, selectedUnstakeNFT);\r\n        setUnstakeLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setUnstakeLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onSelect = async () => {\r\n    setConfirmLoading(true);\r\n    if (isApprovedForAll === false) {\r\n      await approveMaxDsdc();\r\n      await onStake();\r\n      setConfirmLoading(false);\r\n      setOpen(false);\r\n      return;\r\n    }\r\n    await onStake();\r\n    setConfirmLoading(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (account) {\r\n      const stakedNfts = stakedNftsValue?.[0].map((e) => Number(e));\r\n      console.log(\"staked nfts\", stakedNfts);\r\n      getData(stakedNfts);\r\n    }\r\n\r\n    async function getData(stakedNfts) {\r\n      const tokenData = await getNftsData(stakedNfts);\r\n      setTokensOfOwner(tokenData);\r\n    }\r\n  }, [account, stakedNftsValue]);\r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <h2>YOUR STAKED MUTANT(S)</h2>\r\n      {stakedNftsValue?.[0].length > 0 ? (\r\n        loading ? (\r\n          <div className={classes.loading}>\r\n            <Typography\r\n              sx={{ marginBottom: \"35px\" }}\r\n              variant=\"h6\"\r\n              component=\"h4\"\r\n            >\r\n              Fetching your staked mutants...\r\n            </Typography>\r\n            <CircularProgress color=\"warning\" />\r\n          </div>\r\n        ) : (\r\n          <StakedImageList\r\n            selectedUnstakeNFT={selectedUnstakeNFT}\r\n            setSelectedUnstakeNFT={setSelectedUnstakeNFT}\r\n            itemData={tokensOfOwner}\r\n          />\r\n        )\r\n      ) : (\r\n        <p>Nothing to show</p>\r\n      )}\r\n      <div className={classes.actions}>\r\n        <ButtonPrimary onClick={onPickClick}>\r\n          {stakeLoading ? <CircularProgress size='1.5rem' color=\"warning\" /> : \"STAKE\"}\r\n        </ButtonPrimary>\r\n        <ButtonSecondary onClick={onUnstake}>\r\n          {unstakeLoading ? <CircularProgress size='1.5rem' color=\"warning\" /> : \"UNSTAKE\"}\r\n        </ButtonSecondary>\r\n      </div>\r\n\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Fade in={open}>\r\n          <Box sx={style}>\r\n            <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n              SELECT YOUR MUTANT TO STAKE:\r\n            </Typography>\r\n\r\n            <UnstakedImageList\r\n              itemData={unstakedTokensOfOwner}\r\n              selectedStakeNFT={selectedStakeNFT}\r\n              setSelectedStakeNFT={setSelectedStakeNFT}\r\n              loading={loading}\r\n            />\r\n            <ButtonPrimary style={{ float: \"right\" }} onClick={onSelect}>\r\n              {confirmLoading ? (\r\n                <CircularProgress size='1.5rem' color=\"warning\" />\r\n              ) : (\r\n                \"CONFIRM\"\r\n              )}\r\n            </ButtonPrimary>\r\n          </Box>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\StakedNfts\\StakedNfts.jsx",["102","103","104","105","106","107","108"],"import { StakedImageList } from \"../StakedImageList/StakedImageList\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Modal from \"@mui/material/Modal\";\r\nimport Fade from \"@mui/material/Fade\";\r\nimport classes from \"./StakedNfts.module.scss\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport { useState, useEffect, useContext } from \"react\";\r\nimport { useCall, useEthers, useContractFunction } from \"@usedapp/core\";\r\nimport { Contract } from \"@ethersproject/contracts\";\r\nimport axios from \"axios\";\r\nimport { addresses, abis } from \"@uniswap-v2-app/contracts\";\r\nimport { ButtonPrimary, ButtonSecondary } from \"../index\";\r\nimport { ethers } from \"ethers\";\r\nimport { useGetIsApprovedForAll } from \"../../hooks/useGetIsApprovedForAll\";\r\nimport { UnstakedImageList } from \"../UnstakedImageList/UnstakedImageList\";\r\n\r\nimport useGetUserNFTs from \"../../hooks/useGetUserNFTs\";\r\nimport useGetStakedNFTs from \"../../hooks/useGetStakedNFTs\";\r\n\r\nexport default function StakedNfts(props) {\r\n  const [tokensOfOwner, setTokensOfOwner] = useState([]);\r\n  const [unstakedTokensOfOwner, setUnstakedTokensOfOwner] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const plan = 0;\r\n  const [selectedStakeNFT, setSelectedStakeNFT] = useState([]);\r\n  const [selectedUnstakeNFT, setSelectedUnstakeNFT] = useState([]);\r\n  const { account, chainId, library } = useEthers();\r\n  const [stakeLoading, setStakeLoading] = useState(false);\r\n  const [unstakeLoading, setUnstakeLoading] = useState(false);\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n\r\n  const style = {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    width: \"90%\",\r\n    bgcolor: \"background.paper\",\r\n    border: \"2px solid #000\",\r\n    boxShadow: 24,\r\n    padding: \"15px\",\r\n  };\r\n\r\n  const dsdcContract = new Contract(addresses.dsdc, abis.dsdc);\r\n\r\n  const isApprovedForAll = useGetIsApprovedForAll(\r\n    addresses.dsdc,\r\n    abis.dsdc,\r\n    addresses.staking,\r\n    account\r\n  );\r\n\r\n const walletOfOwnerValue = useGetUserNFTs();\r\n  console.log(\"users nfts\", walletOfOwnerValue); \r\n  \r\n  const stakedNftsValue = useGetStakedNFTs(plan);\r\n  console.log(\"users staked nfts\", stakedNftsValue); \r\n \r\n  const { state: setApprovalForAllState, send: setApprovalForAll } =\r\n    useContractFunction(dsdcContract, \"setApprovalForAll\", {\r\n      transactionName: \"setApprovalForAll\",\r\n    });\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  const approveMaxDsdc = async () => {\r\n    await setApprovalForAll(addresses.staking, 1);\r\n  };\r\n\r\n  async function getNftsData(userNfts) {\r\n    const tokenData = [];\r\n    for (var j = 0; j < userNfts?.length; j++) {\r\n      const dsdcMetaData = await axios.get(\r\n        `https://bafybeigmbv6qevyposswcncodvket6bl34chc4j6326akxg2xj6arkmfwu.ipfs.nftstorage.link/${userNfts[j]}.json`\r\n      );\r\n      const nftTokenData = {\r\n        img: `https://drunkskunksdc.mypinata.cloud/ipfs/${dsdcMetaData.data.image.slice(\r\n          7\r\n        )}`,\r\n        title: dsdcMetaData.data.name,\r\n        tokenId: userNfts[j],\r\n      };\r\n      tokenData.push(nftTokenData);\r\n    }\r\n\r\n    return tokenData;\r\n  }\r\n\r\n  const onPickClick = async () => {\r\n    if (account) {\r\n      setStakeLoading(true);\r\n      if (isApprovedForAll === undefined) {\r\n        setLoading(true);\r\n      } else {\r\n        setOpen(true);\r\n        setLoading(true);\r\n        setSelectedUnstakeNFT([]);\r\n        const tokensOfOwner = await getNftsData(walletOfOwnerValue);\r\n        setUnstakedTokensOfOwner(tokensOfOwner);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setStakeLoading(false);\r\n  };\r\n\r\n  const onStake = async () => {\r\n    const signer = library.getSigner();\r\n    const dsdcStakingContract = new ethers.Contract(\r\n      addresses.staking,\r\n      abis.staking,\r\n      signer\r\n    );\r\n    if (selectedStakeNFT.length > 0) {\r\n      try {\r\n        console.log(\"plan\", plan);\r\n        console.log(\"selected Stake NFT\", selectedStakeNFT);\r\n        await dsdcStakingContract.stake(plan, selectedStakeNFT);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onUnstake = async () => {\r\n    const signer = library.getSigner();\r\n    const dsdcStakingContract = new ethers.Contract(\r\n      addresses.staking,\r\n      abis.staking,\r\n      signer\r\n    );\r\n    if (selectedUnstakeNFT.length > 0) {\r\n      setUnstakeLoading(true);\r\n      try {\r\n        await dsdcStakingContract.unstake(plan, selectedUnstakeNFT);\r\n        setUnstakeLoading(false);\r\n      } catch (error) {\r\n        console.log(error);\r\n        setUnstakeLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onSelect = async () => {\r\n    setConfirmLoading(true);\r\n    if (isApprovedForAll === false) {\r\n      await approveMaxDsdc();\r\n      await onStake();\r\n      setConfirmLoading(false);\r\n      setOpen(false);\r\n      return;\r\n    }\r\n    await onStake();\r\n    setConfirmLoading(false);\r\n    setOpen(false);\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   if (account && stakedNftsValue) {\r\n  //     getData(stakedNftsValue);\r\n  //   }\r\n\r\n  //   async function getData(stakedNfts) {\r\n  //     const tokenData = await getNftsData(stakedNfts);\r\n  //     setTokensOfOwner(tokenData);\r\n  //   }\r\n  // }, [account]);\r\n\r\n  \r\n\r\n  return (\r\n    <div className={classes.container}>\r\n      <h2>YOUR STAKED DSDC(S)</h2>\r\n      {stakedNftsValue?.length > 0 ? (\r\n        loading ? (\r\n          <div className={classes.loading}>\r\n            <Typography\r\n              sx={{ marginBottom: \"35px\" }}\r\n              variant=\"h6\"\r\n              component=\"h4\"\r\n            >\r\n              Fetching your staked DSDC...\r\n            </Typography>\r\n            <CircularProgress color=\"warning\" />\r\n          </div>\r\n        ) : (\r\n          <StakedImageList\r\n            selectedUnstakeNFT={selectedUnstakeNFT}\r\n            setSelectedUnstakeNFT={setSelectedUnstakeNFT}\r\n            itemData={stakedNftsValue}\r\n          />\r\n        )\r\n      ) : (\r\n        <p>Nothing to show</p>\r\n      )}\r\n      <div className={classes.actions}>\r\n        <ButtonPrimary onClick={onPickClick}>\r\n          {stakeLoading ? <CircularProgress size='1.5rem' color=\"warning\" /> : \"STAKE\"}\r\n        </ButtonPrimary>\r\n        <ButtonSecondary onClick={onUnstake}>\r\n          {unstakeLoading ? <CircularProgress size='1.5rem' color=\"warning\" /> : \"UNSTAKE\"}\r\n        </ButtonSecondary>\r\n      </div>\r\n\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"modal-modal-title\"\r\n        aria-describedby=\"modal-modal-description\"\r\n      >\r\n        <Fade in={open}>\r\n          <Box sx={style}>\r\n            <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n              SELECT YOUR DSDC TO STAKE:\r\n            </Typography>\r\n\r\n            <UnstakedImageList\r\n              itemData={unstakedTokensOfOwner}\r\n              selectedStakeNFT={selectedStakeNFT}\r\n              setSelectedStakeNFT={setSelectedStakeNFT}\r\n              loading={loading}\r\n            />\r\n            <ButtonPrimary style={{ float: \"right\" }} onClick={onSelect}>\r\n              {confirmLoading ? (\r\n                <CircularProgress size='1.5rem' color=\"warning\" />\r\n              ) : (\r\n                \"CONFIRM\"\r\n              )}\r\n            </ButtonPrimary>\r\n          </Box>\r\n        </Fade>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\TotalRewards\\TotalRewards.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\MediaCard\\MediaCard.js",["109"],"import * as React from 'react';\r\nimport Card from '@mui/material/Card';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport CardMedia from '@mui/material/CardMedia';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport logo from \"../../assets/images/logo.jpg\";\r\nimport mutantLogo from \"../../assets/images/mutants-logo.png\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classes from \"./MediaCard.module.css\"\r\nimport { ButtonPrimary } from '..';\r\n\r\nexport default function MediaCard(props) {\r\n  const defaultClass = props.mutants ? \"card--mutant\" : \"card\"\r\n  const uri = props.mutants ? `dsdc-mutants` : `dsdc`\r\n  const linkStyle = {\r\n    margin: \"0\",\r\n    fontFamily: \"Montserrat, sans-serif\",\r\n    fontWeight: \"400\",\r\n    fontSize: \"1rem\",\r\n    lineHeight: \"1.5\",\r\n    display: \"block\",\r\n    color: \"#fff\",\r\n    textDecoration: \"none\"\r\n  }\r\n  const CardMediaStyle = props.mutants ? {\r\n    height: 190, backgroundSize: \"50%\"\r\n  } : {\r\n    height: 190, backgroundSize: \"50%\"\r\n  }\r\n  return (\r\n    <Card sx={{ backgroundImage: \"none\", border: \"1px solid #bfc500\", backgroundColor: \"transparent\" }} className={classes[defaultClass]}>\r\n      <CardMedia\r\n        sx={CardMediaStyle}\r\n        image={props.mutants ? mutantLogo : logo}\r\n        title={props.mutants ? \"DSDC Mutants Staking\" : \"DSDC Staking\"}\r\n      />\r\n      <CardContent sx={{ textAlign: \"center\", padding: \"14px\" }}>\r\n        <Typography sx={{ whiteSpace: \"nowrap\" }} gutterBottom variant=\"h5\" component=\"div\">\r\n          {props.mutants ? \"Mutants Staking\" : \"DSDC Staking\"}\r\n        </Typography>\r\n        {props.mutants ? <>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            ◘ 10x Higher APR\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            ◘ 1 month lock\r\n          </Typography></> :\r\n          <>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              ◘ Can unstake anytime\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              ◘ Lower APR\r\n            </Typography>\r\n          </>}\r\n      </CardContent>\r\n      <CardActions sx={{ justifyContent: \"center\", marginTop: \"50px\", marginBottom: \"20px\" }}>\r\n        <Link style={linkStyle} to={uri}>\r\n          <ButtonPrimary>Select</ButtonPrimary>\r\n        </Link>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\StakedImageList\\StakedImageList.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetIsApprovedForAll.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetUserNFTs.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetTotalRewards.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\UnstakedImageList\\UnstakedImageList.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\hooks\\useGetStakedNFTs.jsx",[],"D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\DefaultSwap.js",["110"],"import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useMediaQuery } from \"@mui/material\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\nconst DefaultSwap = () => {\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const iframeRef = useRef(null);\r\n    const mobile = useMediaQuery(\"(max-width:500px)\");\r\n    const handleLoad = () => {\r\n        setIsLoaded(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const iframe = iframeRef.current;\r\n        if (iframe) {\r\n            iframe.addEventListener(\"load\", handleLoad);\r\n            return () => iframe.removeEventListener(\"load\", handleLoad);\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ marginBlock: '40px' }}>\r\n            {!isLoaded && <div style={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                marginBottom: '120px'\r\n            }}>\r\n                <Typography sx={{\r\n                    marginBottom: \"35px\"\r\n                }} variant=\"h6\" component=\"h4\">\r\n                    Loading Swap...\r\n                </Typography>\r\n                <CircularProgress color=\"warning\" />\r\n            </div>}\r\n\r\n            <iframe\r\n                style={{ display: isLoaded ? \"block\" : \"none\" }}\r\n                ref={iframeRef}\r\n                width={mobile ? \"320\" : \"500\"}\r\n                height=\"805\"\r\n                frameborder=\"0\"\r\n                allow=\"clipboard-read *; clipboard-write *; web-share *; accelerometer *; autoplay *; camera *; gyroscope *; payment *; geolocation *\"\r\n                src=\"https://flooz.trade/embed/trade?swapDisabled=false&swapToTokenAddress=0x4E2970252B0b294cD041004093e9bA39e5286504&swapLockToToken=true&onRampDisabled=true&onRampAsDefault=false&onRampDefaultAmount=200&network=bsc&lightMode=false&primaryColor=%23bfc500&roundedCorners=10&padding=20\" >\r\n\r\n            </iframe>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DefaultSwap;","D:\\pcs\\dsdc-dashboard\\packages\\react-app\\src\\components\\Chart\\Chart.js",["111","112","113","114","115","116","117"],{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":1,"column":17,"nodeType":"124","messageId":"125","endLine":1,"endColumn":26},{"ruleId":"122","severity":1,"message":"126","line":12,"column":8,"nodeType":"124","messageId":"125","endLine":12,"endColumn":13},{"ruleId":"122","severity":1,"message":"127","line":20,"column":8,"nodeType":"124","messageId":"125","endLine":20,"endColumn":12},{"ruleId":"128","severity":1,"message":"129","line":152,"column":13,"nodeType":"130","endLine":155,"endColumn":29},{"ruleId":"122","severity":1,"message":"131","line":3,"column":10,"nodeType":"124","messageId":"125","endLine":3,"endColumn":16},{"ruleId":"122","severity":1,"message":"132","line":8,"column":10,"nodeType":"124","messageId":"125","endLine":8,"endColumn":16},{"ruleId":"122","severity":1,"message":"133","line":2,"column":8,"nodeType":"124","messageId":"125","endLine":2,"endColumn":17},{"ruleId":"122","severity":1,"message":"134","line":3,"column":8,"nodeType":"124","messageId":"125","endLine":3,"endColumn":24},{"ruleId":"122","severity":1,"message":"135","line":4,"column":8,"nodeType":"124","messageId":"125","endLine":4,"endColumn":14},{"ruleId":"122","severity":1,"message":"136","line":11,"column":31,"nodeType":"124","messageId":"125","endLine":11,"endColumn":41},{"ruleId":"122","severity":1,"message":"137","line":81,"column":18,"nodeType":"124","messageId":"125","endLine":81,"endColumn":40},{"ruleId":"122","severity":1,"message":"123","line":8,"column":20,"nodeType":"124","messageId":"125","endLine":8,"endColumn":29},{"ruleId":"122","severity":1,"message":"136","line":8,"column":31,"nodeType":"124","messageId":"125","endLine":8,"endColumn":41},{"ruleId":"122","severity":1,"message":"138","line":9,"column":10,"nodeType":"124","messageId":"125","endLine":9,"endColumn":17},{"ruleId":"122","severity":1,"message":"139","line":22,"column":10,"nodeType":"124","messageId":"125","endLine":22,"endColumn":23},{"ruleId":"122","severity":1,"message":"140","line":22,"column":25,"nodeType":"124","messageId":"125","endLine":22,"endColumn":41},{"ruleId":"122","severity":1,"message":"141","line":29,"column":20,"nodeType":"124","messageId":"125","endLine":29,"endColumn":27},{"ruleId":"122","severity":1,"message":"137","line":61,"column":18,"nodeType":"124","messageId":"125","endLine":61,"endColumn":40},{"ruleId":"122","severity":1,"message":"131","line":6,"column":8,"nodeType":"124","messageId":"125","endLine":6,"endColumn":14},{"ruleId":"142","severity":1,"message":"143","line":38,"column":13,"nodeType":"130","endLine":45,"endColumn":304},{"ruleId":"122","severity":1,"message":"144","line":1,"column":17,"nodeType":"124","messageId":"125","endLine":1,"endColumn":25},{"ruleId":"122","severity":1,"message":"123","line":1,"column":27,"nodeType":"124","messageId":"125","endLine":1,"endColumn":36},{"ruleId":"122","severity":1,"message":"145","line":1,"column":38,"nodeType":"124","messageId":"125","endLine":1,"endColumn":44},{"ruleId":"122","severity":1,"message":"146","line":3,"column":10,"nodeType":"124","messageId":"125","endLine":3,"endColumn":23},{"ruleId":"122","severity":1,"message":"147","line":4,"column":8,"nodeType":"124","messageId":"125","endLine":4,"endColumn":18},{"ruleId":"122","severity":1,"message":"148","line":5,"column":8,"nodeType":"124","messageId":"125","endLine":5,"endColumn":24},{"ruleId":"142","severity":1,"message":"143","line":12,"column":17,"nodeType":"130","endLine":12,"endColumn":130},"no-native-reassign",["149"],"no-negated-in-lhs",["150"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'Badge' is defined but never used.","'Swap' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'Button' is defined but never used.","'border' is defined but never used.","'FormGroup' is defined but never used.","'FormControlLabel' is defined but never used.","'Switch' is defined but never used.","'useContext' is defined but never used.","'setApprovalForAllState' is assigned a value but never used.","'useCall' is defined but never used.","'tokensOfOwner' is assigned a value but never used.","'setTokensOfOwner' is assigned a value but never used.","'chainId' is assigned a value but never used.","jsx-a11y/iframe-has-title","<iframe> elements must have a unique title property.","'useState' is defined but never used.","'useRef' is defined but never used.","'useMediaQuery' is defined but never used.","'Typography' is defined but never used.","'CircularProgress' is defined but never used.","no-global-assign","no-unsafe-negation"]